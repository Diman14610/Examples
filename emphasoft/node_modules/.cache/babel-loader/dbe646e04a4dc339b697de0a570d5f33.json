{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\Desktop\\\\emphasoft\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Users from'./Users';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),pass=_useState6[0],setPass=_useState6[1];/*   useEffect(() => {\n      let token = new Promise((re, reg) => {\n        let AuthToken = { username: 'test_super', password: 'Nf<U4f<rDbtDxAPn' }\n  \n        fetch('http://emphasoft-test-assignment.herokuapp.com/api-token-auth/', { method: 'POST', body: JSON.stringify(AuthToken), headers: { 'Content-Type': 'application/json' } })\n          .then(e => re(e.json()))\n          .catch(e => reg(e))\n      })\n  \n      token.then(e => {\n        fetch(`http://emphasoft-test-assignment.herokuapp.com/api/v1/users`, { method: 'GET', headers: { 'Authorization': `Token ${e.token}` } })\n          .then(e2 => e2.json())\n          .then(e2 => setUser(e2))\n          .catch(e2 => console.log(e2))\n      })\n    }, [user]) */var btnAuth=function btnAuth(){if(name!==' '&name!==''&name==='test_super'){if(pass.length>=8&&pass.includes(pass[0].toUpperCase())&&pass.replace(/\\D/g,'').length>0&pass==='Nf<U4f<rDbtDxAPn'){var token=new Promise(function(re,reg){var AuthToken={username:'test_super',password:'Nf<U4f<rDbtDxAPn'};fetch('http://emphasoft-test-assignment.herokuapp.com/api-token-auth/',{method:'POST',body:JSON.stringify(AuthToken),headers:{'Content-Type':'application/json'}}).then(function(e){return re(e.json());}).catch(function(e){return reg(e);});});token.then(function(e){fetch(\"http://emphasoft-test-assignment.herokuapp.com/api/v1/users\",{method:'GET',headers:{'Authorization':\"Token \".concat(e.token)}}).then(function(e2){return e2.json();}).then(function(e2){return setUser(e2);}).catch(function(e2){return console.log(e2);});});document.getElementById('table').style.display='table';document.getElementById('auth').style.display='none';}else{alert('Пароль введён не правильно! Пароль должен быть с заглавной буквы, иметь длину не менее 8 символов, и содержать хотя бы 1 цифру');}}else{alert('Пользователь не найден');}};var btnAscending=function btnAscending(){setUser(JSON.parse(JSON.stringify(user.sort(function(cur,next){return cur.id-next.id;}))));};var btnDescending=function btnDescending(){setUser(JSON.parse(JSON.stringify(user.sort(function(cur,next){return next.id-cur.id;}))));};var btnSortAsc=function btnSortAsc(){setUser(JSON.parse(JSON.stringify(user.sort(function(cur,next){return cur.username>next.username?1:-1;}))));};var btnSortDes=function btnSortDes(){setUser(JSON.parse(JSON.stringify(user.sort(function(cur,next){return cur.username<next.username?1:-1;}))));};var btnShow=function btnShow(){var container=document.getElementById('filters-container');if(container.style.display==='none'){container.style.display='block';}else{container.style.display='none';}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{id:\"auth\",className:\"Auth\"},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"name\",type:\"text\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"password\",type:\"password\",onChange:function onChange(e){return setPass(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return btnAuth();}},\"Auth\")),/*#__PURE__*/React.createElement(\"table\",{id:\"table\",style:{display:\"none\"}},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"id\",/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return btnAscending();}},\"\\u2191\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return btnDescending();}},\"\\u2193\")),/*#__PURE__*/React.createElement(\"th\",null,\"username\",/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return btnShow();}},\"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B\"),/*#__PURE__*/React.createElement(\"div\",{id:\"filters-container\",style:{display:\"none\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:function onChange(e){return setUser(user.filter(function(v){if(v.username.toLocaleLowerCase()===e.target.value.toLocaleLowerCase()){return v.username+='<--';}else{if(v.username.includes('<--')){return v.username=v.username.substring(0,v.username.length-3);}return v.username;}}));}}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return btnSortAsc();}},\"A-Z\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return btnSortDes();}},\"Z-A\")))),/*#__PURE__*/React.createElement(\"th\",null,\"first_name\"),/*#__PURE__*/React.createElement(\"th\",null,\"last_name\"))),/*#__PURE__*/React.createElement(\"tbody\",null,user.map(function(v,i){return/*#__PURE__*/React.createElement(Users,Object.assign({},v,{key:i}));}))));};export default App;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/emphasoft/src/App.js"],"names":["React","useState","useEffect","Users","App","user","setUser","name","setName","pass","setPass","btnAuth","length","includes","toUpperCase","replace","token","Promise","re","reg","AuthToken","username","password","fetch","method","body","JSON","stringify","headers","then","e","json","catch","e2","console","log","document","getElementById","style","display","alert","btnAscending","parse","sort","cur","next","id","btnDescending","btnSortAsc","btnSortDes","btnShow","container","target","value","filter","v","toLocaleLowerCase","substring","map","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Users from './Users'\n\n\nconst App = () => {\n  const [user, setUser] = useState([])\n  const [name, setName] = useState('')\n  const [pass, setPass] = useState('')\n\n  /*   useEffect(() => {\n      let token = new Promise((re, reg) => {\n        let AuthToken = { username: 'test_super', password: 'Nf<U4f<rDbtDxAPn' }\n  \n        fetch('http://emphasoft-test-assignment.herokuapp.com/api-token-auth/', { method: 'POST', body: JSON.stringify(AuthToken), headers: { 'Content-Type': 'application/json' } })\n          .then(e => re(e.json()))\n          .catch(e => reg(e))\n      })\n  \n      token.then(e => {\n        fetch(`http://emphasoft-test-assignment.herokuapp.com/api/v1/users`, { method: 'GET', headers: { 'Authorization': `Token ${e.token}` } })\n          .then(e2 => e2.json())\n          .then(e2 => setUser(e2))\n          .catch(e2 => console.log(e2))\n      })\n    }, [user]) */\n\n\n  const btnAuth = () => {\n    if (name !== ' ' & name !== '' & name === 'test_super') {\n      if (pass.length >= 8 && pass.includes(pass[0].toUpperCase()) && pass.replace(/\\D/g, '').length > 0 & pass === 'Nf<U4f<rDbtDxAPn') {\n        let token = new Promise((re, reg) => {\n          let AuthToken = { username: 'test_super', password: 'Nf<U4f<rDbtDxAPn' }\n\n          fetch('http://emphasoft-test-assignment.herokuapp.com/api-token-auth/', { method: 'POST', body: JSON.stringify(AuthToken), headers: { 'Content-Type': 'application/json' } })\n            .then(e => re(e.json()))\n            .catch(e => reg(e))\n        })\n\n        token.then(e => {\n          fetch(`http://emphasoft-test-assignment.herokuapp.com/api/v1/users`, { method: 'GET', headers: { 'Authorization': `Token ${e.token}` } })\n            .then(e2 => e2.json())\n            .then(e2 => setUser(e2))\n            .catch(e2 => console.log(e2))\n        })\n\n        document.getElementById('table').style.display = 'table'\n        document.getElementById('auth').style.display = 'none'\n      }\n      else {\n        alert('Пароль введён не правильно! Пароль должен быть с заглавной буквы, иметь длину не менее 8 символов, и содержать хотя бы 1 цифру')\n      }\n    }\n    else {\n      alert('Пользователь не найден')\n    }\n  }\n\n  const btnAscending = () => {\n    setUser(JSON.parse(JSON.stringify(user.sort((cur, next) => cur.id - next.id))))\n  }\n  const btnDescending = () => {\n    setUser(JSON.parse(JSON.stringify(user.sort((cur, next) => next.id - cur.id))))\n  }\n\n  const btnSortAsc = () => {\n    setUser(JSON.parse(JSON.stringify(user.sort((cur, next) => cur.username > next.username ? 1 : -1))))\n  }\n  const btnSortDes = () => {\n    setUser(JSON.parse(JSON.stringify(user.sort((cur, next) => cur.username < next.username ? 1 : -1))))\n\n  }\n\n  const btnShow = () => {\n    let container = document.getElementById('filters-container')\n\n    if (container.style.display === 'none') {\n      container.style.display = 'block'\n    }\n    else {\n      container.style.display = 'none'\n    }\n\n  }\n\n  return (\n    <>\n      <div id='auth' className='Auth'>\n        <input placeholder='name' type='text' onChange={e => setName(e.target.value)} />\n        <input placeholder='password' type='password' onChange={e => setPass(e.target.value)} />\n\n        <button onClick={() => btnAuth()}>Auth</button>\n      </div>\n\n\n      <table id='table' style={{ display: \"none\" }}>\n        <thead>\n          <tr>\n            <th>\n              id\n              <button onClick={() => btnAscending()}>&uarr;</button>\n              <button onClick={() => btnDescending()}>&darr;</button>\n            </th>\n            <th>\n              username\n              <button onClick={() => btnShow()}>Фильтры</button>\n\n              <div id='filters-container' style={{ display: \"none\" }}>\n                <div>\n                  <input type='text' onChange={\n                    (e) => setUser(user.filter((v) => {\n                      if (v.username.toLocaleLowerCase() === e.target.value.toLocaleLowerCase()) {\n                        return v.username += '<--'\n                      }\n                      else {\n                        if (v.username.includes('<--')) {\n                          return v.username = v.username.substring(0, v.username.length - 3)\n                        }\n                        return v.username\n                      }\n                    }))\n                  } />\n\n                  <button onClick={() => btnSortAsc()}>A-Z</button>\n                  <button onClick={() => btnSortDes()}>Z-A</button>\n                </div>\n              </div>\n            </th>\n            <th>first_name</th>\n            <th>last_name</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {user.map((v, i) => <Users {...v} key={i} />)}\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}